(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{221:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",[s._v("å‰è¨€ï¼šç›¸ä¿¡å¦‚æœéœ€è¦ä»äº’è”ç½‘ä¸Šè·å–ä¸€äº›ä¿¡æ¯æ•°æ®çš„è¯ï¼Œèƒ½å¤Ÿä½¿ç”¨ Scrapy ä¹Ÿæ˜¯æ¯”è¾ƒä¼˜è´¨çš„é€‰æ‹©äº†ï¼›é‚£ä¹ˆæœ¬ç‰‡å°±è¯¦ç»†è®²è§£ä¸€ä¸‹ Scrapy çš„æ­å»ºä¸è¿ç”¨ï¼ˆå²ä¸Šæœ€å…¨ Scrapy setting.py æ–‡ä»¶ï¼Œï¼Œå“ˆå“ˆã€‚ğŸ˜ƒ ğŸ˜„ğŸ˜ƒ ï¼‰ã€‚")])]),s._v(" "),a("blockquote",[a("p",[s._v("@Calendar Phrases: "),a("em",[a("strong",[s._v("è¡¨é¢æ¯«æ— æ³¢æ¾œã€å†…å¿ƒé£èµ·äº‘æ¶Œï¼")])])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.shields.io/badge/%E4%BD%9C%E8%80%85-ZF-brightgreen",alt:"ä½œè€…"}}),s._v(" "),a("img",{attrs:{src:"https://img.shields.io/badge/@time-2020.01.08-orange",alt:"@time"}})]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),a("blockquote",[a("p",[s._v("ç›¸ä¿¡å¦‚æœéœ€è¦ä»äº’è”ç½‘ä¸Šè·å–ä¸€äº›ä¿¡æ¯æ•°æ®çš„è¯ï¼Œèƒ½å¤Ÿä½¿ç”¨ Scrapy ä¹Ÿæ˜¯æ¯”è¾ƒä¼˜è´¨çš„é€‰æ‹©äº†ï¼›é‚£ä¹ˆæœ¬ç‰‡å°±è¯¦ç»†è®²è§£ä¸€ä¸‹ Scrapy çš„æ­å»ºä¸è¿ç”¨ï¼ˆå²ä¸Šæœ€å…¨ Scrapy setting.py æ–‡ä»¶ï¼Œï¼Œå“ˆå“ˆã€‚ğŸ˜ƒ ğŸ˜„ğŸ˜ƒ ï¼‰ã€‚")])]),s._v(" "),a("h2",{attrs:{id:"æ¦‚è¿°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚è¿°"}},[s._v("#")]),s._v(" æ¦‚è¿°")]),s._v(" "),a("p",[s._v("Scrapyä½¿ç”¨äº†Twistedä½œä¸ºæ¡†æ¶ï¼ŒTwistedæœ‰äº›ç‰¹æ®Šçš„åœ°æ–¹æ˜¯å®ƒæ˜¯äº‹ä»¶é©±åŠ¨çš„ï¼Œå¹¶ä¸”æ¯”è¾ƒé€‚åˆå¼‚æ­¥çš„ä»£ç ã€‚å¯¹äºä¼šé˜»å¡çº¿ç¨‹çš„æ“ä½œåŒ…å«è®¿é—®æ–‡ä»¶ã€æ•°æ®åº“æˆ–è€…Webã€äº§ç”Ÿæ–°çš„è¿›ç¨‹å¹¶éœ€è¦å¤„ç†æ–°è¿›ç¨‹çš„è¾“å‡º(å¦‚è¿è¡Œshellå‘½ä»¤)ã€æ‰§è¡Œç³»ç»Ÿå±‚æ¬¡æ“ä½œçš„ä»£ç (å¦‚ç­‰å¾…ç³»ç»Ÿé˜Ÿåˆ—),Twistedæä¾›äº†å…è®¸æ‰§è¡Œä¸Šé¢çš„æ“ä½œä½†ä¸ä¼šé˜»å¡ä»£ç æ‰§è¡Œçš„æ–¹æ³•ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/kachacha/markdownPicture/docImg/scrapy%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png",alt:"",title:"scrapyç›®å½•ç»“æ„"}})]),s._v(" "),a("ul",[a("li",[a("code",[s._v("items.py")]),s._v(" è´Ÿè´£æ•°æ®æ¨¡å‹çš„å»ºç«‹ï¼Œç±»ä¼¼äºå®ä½“ç±»ã€‚")]),s._v(" "),a("li",[a("code",[s._v("middlewares.py")]),s._v(" è‡ªå·±å®šä¹‰çš„ä¸­é—´ä»¶ã€‚")]),s._v(" "),a("li",[a("code",[s._v("pipelines.py")]),s._v(" è´Ÿè´£å¯¹spiderè¿”å›æ•°æ®çš„å¤„ç†ã€‚")]),s._v(" "),a("li",[a("code",[s._v("settings.py")]),s._v(" è´Ÿè´£å¯¹æ•´ä¸ªçˆ¬è™«çš„é…ç½®ã€‚")]),s._v(" "),a("li",[a("code",[s._v("spidersç›®å½•")]),s._v(" è´Ÿè´£å­˜æ”¾ç»§æ‰¿è‡ªscrapyçš„çˆ¬è™«ç±»ã€‚")]),s._v(" "),a("li",[a("code",[s._v("scrapy.cfg")]),s._v(" scrapyåŸºç¡€é…ç½®")])]),s._v(" "),a("h2",{attrs:{id:"å®‰è£…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…"}},[s._v("#")]),s._v(" å®‰è£…")]),s._v(" "),a("blockquote",[a("p",[s._v("è¿™é‡Œä¸ºäº†ä¹‹åä¸ Scrapyd + ScrapydWeb ç›¸äº’åä½œï¼Œæœ¬æ¬¡å®‰è£…éœ€è¦æŒ‡å®šç‰ˆæœ¬")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pip3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("scrapy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.5")]),s._v(".1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"åˆ›å»ºä¸å‘½ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºä¸å‘½ä»¤"}},[s._v("#")]),s._v(" åˆ›å»ºä¸å‘½ä»¤")]),s._v(" "),a("ul",[a("li",[s._v("1.åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy startproject myproject\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("2.åœ¨æ–°é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„spideræ–‡ä»¶ï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy genspider mydomain mydomain.com\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("3.å…¨å±€å‘½ä»¤ï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("startproject\ngenspider\nsettings\nrunspider\nshell\nfetch\nview\nversion\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ul",[a("li",[s._v("4.åªåœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„å‘½ä»¤ï¼ˆå±€éƒ¨å‘½ä»¤ï¼‰ï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("crawl\nchech\nlist\nedit\nparse\nbench\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("5.è¿è¡Œspideræ–‡ä»¶")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy crawl "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("spider"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("6.æ£€æŸ¥spideræ–‡ä»¶æœ‰æ— è¯­æ³•é”™è¯¯ï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy chech\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("7.åˆ—å‡ºspiderè·¯å¾„ä¸‹çš„spideræ–‡ä»¶ï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy list\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("8.ç¼–è¾‘spideræ–‡ä»¶ï¼š\n"),a("ul",[a("li",[s._v("ç›¸å½“äºæ‰“å¼€vimæ¨¡å¼ï¼Œå®é™…å¹¶ä¸å¥½ç”¨ï¼Œåœ¨IDEä¸­ç¼–è¾‘æ›´ä¸ºåˆé€‚ã€‚")])])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy edit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("spider"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("9.å°†ç½‘é¡µå†…å®¹ä¸‹è½½ä¸‹æ¥ï¼Œç„¶ååœ¨ä¸­ç«¯æ‰“å°å½“å‰è¿”å›çš„å†…å®¹ï¼Œç›¸å½“äºrequestå’Œurllibæ–¹æ³•ï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy fetch "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("10.å°†ç½‘é¡µå†…å®¹ä¿å­˜ä¸‹æ¥ï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å½“å‰ç½‘é¡µå†…å®¹ï¼Œåªç®¡çš„å‘ˆç°è¦çˆ¬å–ç½‘é¡µçš„å†…å®¹ï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy view "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("11.æ‰“å¼€scrapyæ˜¾ç¤ºå°ï¼Œç±»ä¼¼ipythonï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•ï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy shell "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("12.è¾“å‡ºæ ¼å¼åŒ–çš„å†…å®¹ï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy parse "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("13.è¿”å›ç³»ç»Ÿè®¾ç½®ä¿¡æ¯ï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy settings "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ scrapy settings --get BOT_NAME\nscrapybot\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("14.è¿è¡Œspiderï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy runspider "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("spider_file.py"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("15.æ˜¾ç¤ºscrapyç‰ˆæœ¬ï¼š\n"),a("ul",[a("li",[s._v("åé¢åŠ  -v å¯ä»¥æ˜¾ç¤º scrapy ä¾èµ–åº“çš„ç‰ˆæœ¬ã€‚")])])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy version "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("16.æµ‹è¯•ç”µè„‘å½“å‰çˆ¬å–é€Ÿåº¦æ€§èƒ½ï¼š")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("scrapy bench\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"spiderç¼–å†™ä¸ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#spiderç¼–å†™ä¸ä¼˜åŒ–"}},[s._v("#")]),s._v(" Spiderç¼–å†™ä¸ä¼˜åŒ–")]),s._v(" "),a("ol",[a("li",[s._v("é‡å†™é¦–æ¬¡è®¿é—®å‰å‡†å¤‡")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" scrapy "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Request\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make_requests_from_url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sleep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dont_filter"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" meta"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# dont_filter=Trueä¸ºä¸å»é‡")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h2",{attrs:{id:"æ”¹å†™-scrapy-æ¡†æ¶ç»„ä»¶é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ”¹å†™-scrapy-æ¡†æ¶ç»„ä»¶é…ç½®"}},[s._v("#")]),s._v(" æ”¹å†™ scrapy æ¡†æ¶ç»„ä»¶é…ç½®")]),s._v(" "),a("h4",{attrs:{id:"_1-æ³¨æ„åœ¨â€œitems-pyâ€ä¸­æ·»åŠ çˆ¬å–çš„æ•°æ®æ¨¡å‹ã€‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ³¨æ„åœ¨â€œitems-pyâ€ä¸­æ·»åŠ çˆ¬å–çš„æ•°æ®æ¨¡å‹ã€‚"}},[s._v("#")]),s._v(" 1.æ³¨æ„åœ¨â€œitems.pyâ€ä¸­æ·»åŠ çˆ¬å–çš„æ•°æ®æ¨¡å‹ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_2-â€œsetting-pyâ€æ–‡ä»¶ä¸­å¯¹-â€œè¯·æ±‚å»¶è¿Ÿâ€-çš„é…ç½®ã€‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-â€œsetting-pyâ€æ–‡ä»¶ä¸­å¯¹-â€œè¯·æ±‚å»¶è¿Ÿâ€-çš„é…ç½®ã€‚"}},[s._v("#")]),s._v(" 2.â€œsetting.pyâ€æ–‡ä»¶ä¸­å¯¹ â€œè¯·æ±‚å»¶è¿Ÿâ€ çš„é…ç½®ã€‚")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See also autothrottle settings and docs")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸‹è½½å™¨åœ¨ä¸‹è½½åŒä¸€ä¸ªç½‘ç«™ä¸‹ä¸€ä¸ªé¡µé¢å‰éœ€è¦ç­‰å¾…çš„æ—¶é—´,è¯¥é€‰é¡¹å¯ä»¥ç”¨æ¥é™åˆ¶çˆ¬å–é€Ÿåº¦,å‡è½»æœåŠ¡å™¨å‹åŠ›ã€‚åŒæ—¶ä¹Ÿæ”¯æŒå°æ•°:0.25 ä»¥ç§’ä¸ºå•ä½")]),s._v("\nDOWNLOAD_DELAY "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The download delay setting will honor only one of:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CONCURRENT_REQUESTS_PER_DOMAIN = 16")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¹å•ä¸ªç½‘ç«™è¿›è¡Œå¹¶å‘è¯·æ±‚çš„æœ€å¤§å€¼ã€‚")]),s._v("\nCONCURRENT_REQUESTS_PER_IP "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("  ITEM_PIPELINES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hxchem.pipelines.HxchemPipeline'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  FEED_EXPORT_ENCODING "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'utf-8'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_3-çˆ¬è™«spideræ²‰é»˜å…³é—­æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-çˆ¬è™«spideræ²‰é»˜å…³é—­æœºåˆ¶"}},[s._v("#")]),s._v(" 3.çˆ¬è™«spideræ²‰é»˜å…³é—­æœºåˆ¶")]),s._v(" "),a("ul",[a("li",[s._v("â‘ ã€æ·»åŠ â€œextensions.pyâ€æ–‡ä»¶ã€‚")])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -*- coding: utf-8 -*-")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Define here the models for your scraped Extensions")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" logging\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" time\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" scrapy "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" signals\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" scrapy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exceptions "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" NotConfigured\n\nlogger "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" logging"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("getLogger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__name__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RedisSpiderSmartIdleClosedExensions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" idle_number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" crawler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("crawler "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" crawler\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_number "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" idle_number\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_count "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n    @"),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("classmethod")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("from_crawler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" crawler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é¦–å…ˆæ£€æŸ¥æ˜¯å¦åº”è¯¥å¯ç”¨å’Œæé«˜æ‰©å±•")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¦åˆ™ä¸é…ç½®")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" crawler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("settings"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("getbool"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MYEXT_ENABLED'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("raise")]),s._v(" NotConfigured\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è·å–é…ç½®ä¸­çš„æ—¶é—´ç‰‡ä¸ªæ•°ï¼Œé»˜è®¤ä¸º360ä¸ªï¼Œ30åˆ†é’Ÿ")]),s._v("\n        idle_number "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" crawler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("settings"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("getint"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'IDLE_NUMBER'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("360")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®ä¾‹åŒ–æ‰©å±•å¯¹è±¡")]),s._v("\n        ext "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cls"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("idle_number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" crawler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å°†æ‰©å±•å¯¹è±¡è¿æ¥åˆ°ä¿¡å·ï¼Œ å°†signals.spider_idle ä¸ spider_idle() æ–¹æ³•å…³è”èµ·æ¥ã€‚")]),s._v("\n        crawler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("signals"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("connect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("spider_opened"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" signal"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("signals"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("spider_opened"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        crawler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("signals"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("connect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("spider_closed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" signal"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("signals"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("spider_closed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        crawler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("signals"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("connect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("spider_idle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" signal"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("signals"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("spider_idle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# return the extension object")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" ext\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("spider_opened")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" spider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"opened spider %s redis spider Idle, Continuous idle limitï¼š %d"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" spider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("spider_closed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" spider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"closed spider %s, idle count %d , Continuous idle count %d"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                    spider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("spider_idle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" spider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_count "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç©ºé—²è®¡æ•°")]),s._v("\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("append"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("time"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¯æ¬¡è§¦å‘ spider_idleæ—¶ï¼Œè®°å½•ä¸‹è§¦å‘æ—¶é—´æˆ³")]),s._v("\n        idle_list_len "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("len")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è·å–å½“å‰å·²ç»è¿ç»­è§¦å‘çš„æ¬¡æ•°")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("idle_list_len"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ¤æ–­ å½“å‰è§¦å‘æ—¶é—´ä¸ä¸Šæ¬¡è§¦å‘æ—¶é—´ ä¹‹é—´çš„é—´éš”æ˜¯å¦å¤§äº5ç§’ï¼Œå¦‚æœå¤§äº5ç§’ï¼Œè¯´æ˜redis ä¸­è¿˜æœ‰key")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" idle_list_len "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_count "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" idle_list_len "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿ç»­è§¦å‘çš„æ¬¡æ•°è¾¾åˆ°é…ç½®æ¬¡æ•°åå…³é—­çˆ¬è™«")]),s._v("\n            logger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\n continued idle number exceed {} Times'")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\n meet the idle shutdown conditions, will close the reptile operation'")]),s._v("\n                        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\n idle start time: {},  close spider time: {}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                                                                                self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("idle_list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ‰§è¡Œå…³é—­çˆ¬è™«æ“ä½œ")]),s._v("\n            self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("crawler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("engine"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close_spider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("spider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'closespider_pagecount'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br")])]),a("ul",[a("li",[a("p",[s._v("â‘¡ã€â€œsetting.pyâ€æ–‡ä»¶ä¸­å¯¹â€œextensionsâ€çš„é…ç½®ã€‚")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("MYEXT_ENABLED "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" True  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¼€å¯æ‰©å±•")]),s._v("\nIDLE_NUMBER "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®ç©ºé—²æŒç»­æ—¶é—´å•ä½ä¸º 60ä¸ª ï¼Œä¸€ä¸ªæ—¶é—´å•ä½ä¸º5s,ä¹Ÿå°±æ˜¯äº”åˆ†é’Ÿ")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åœ¨ EXTENSIONS é…ç½®ï¼Œæ¿€æ´»æ‰©å±•")]),s._v("\nEXTENSIONS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{project name}.extensions.RedisSpiderSmartIdleClosedExensions'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"_4-æ–‡ä»¶ä¸‹è½½ç®¡é“é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-æ–‡ä»¶ä¸‹è½½ç®¡é“é…ç½®"}},[s._v("#")]),s._v(" 4.æ–‡ä»¶ä¸‹è½½ç®¡é“é…ç½®")]),s._v(" "),a("blockquote",[a("ul",[a("li",[a("em",[a("strong",[s._v("items ä»¥åŠ fils å¯ä»¥å…±å­˜")])])]),s._v(" "),a("li",[a("em",[a("strong",[s._v("å¯ä»¥å®šä¹‰æ–‡ä»¶åç§°")])])])])]),s._v(" "),a("h5",{attrs:{id:"_1-items-py-æ·»åŠ -â€œfiledownloaditemâ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-items-py-æ·»åŠ -â€œfiledownloaditemâ€"}},[s._v("#")]),s._v(" 1). items.py æ·»åŠ  â€œFileDownloadItemâ€")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" scrapy\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LearningNewsFileDownloadItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("scrapy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# define the fields for your item here like:")]),s._v("\n    file_urls "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" scrapy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Field"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# url åˆ—è¡¨ ")]),s._v("\n    files "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" scrapy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Field"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å†…ç½®æ–‡ä»¶id")]),s._v("\n    files_name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" scrapy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Field"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ–‡ä»¶åç§°")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h5",{attrs:{id:"_2-spider-py-è¿ç”¨æ¡ˆä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-spider-py-è¿ç”¨æ¡ˆä¾‹"}},[s._v("#")]),s._v(" 2). [spider.py] è¿ç”¨æ¡ˆä¾‹")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LearningNewsSpider")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("RedisSpider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'learning_news'")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        items "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" YourProjectNameLearningNewsItem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        files "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" LearningNewsFileDownloadItem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        uid_it "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("meta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'uid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"file_urls"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("items"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"report_url"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä»¥åˆ—è¡¨æ–¹å¼è¿›è¡Œè¿”å›")]),s._v("\n        files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"files_name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" items"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"report_title"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" items\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" files\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h5",{attrs:{id:"_3-settings-py-å¼€å¯æ–‡ä»¶ç®¡é“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-settings-py-å¼€å¯æ–‡ä»¶ç®¡é“"}},[s._v("#")]),s._v(" 3).[ settings.py] å¼€å¯æ–‡ä»¶ç®¡é“")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("ITEM_PIPELINES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{project}.pipelines.FileDownloadPipeline'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nFILES_STORE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'file'")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ–‡ä»¶å­˜å‚¨ä½ç½®")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h5",{attrs:{id:"_4-pipelines-py-å­˜å‚¨é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-pipelines-py-å­˜å‚¨é…ç½®"}},[s._v("#")]),s._v(" 4). [pipelines.py] å­˜å‚¨é…ç½®")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" datetime\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" json\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" os"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" basename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" join\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" urllib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("parse "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" urlparse\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" scrapy\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" scrapy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("pipelines"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("files "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" FilesPipeline\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JsonCustomEncoder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("JSONEncoder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("default")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("isinstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("datetime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("strftime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%Y-%m-%d %H:%M:%S'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" json"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("JSONEncoder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("default"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FileDownloadPipeline")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FilesPipeline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get_media_requests")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""\n            # todo è¿™é‡Œå¾ˆé‡è¦ï¼ˆä¸é…ç½®å°†å­˜å‚¨ä¸ä¸‹æ¥ï¼Œå­—æ®µè‡ªå·±æ¢ï¼‰\n        """')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"file_urls"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" url "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"file_urls"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("yield")]),s._v(" scrapy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" meta"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'files_name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"files_name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file_path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" response"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" info"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        files_name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("meta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'files_name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" urlparse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# print(basename(dirname(path)), basename(path))")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" join"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("basename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("files_name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" basename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("YourProjectNamePipeline")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# # å¢åŠ æ•°æ®åº“è¿æ¥")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("process_item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" spider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""\n        # todo è¿™é‡Œå¾ˆé‡è¦ï¼ˆä¸é…ç½®å°†å­˜å‚¨ä¸ä¸‹æ¥ï¼Œå­—æ®µè‡ªå·±æ¢ï¼‰\n        """')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"news_title"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" item\n       \t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# todo è¿™é‡Œè¿›è¡Œå­˜å‚¨ç»“æ„åŒ–æ•°æ®")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" item\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br")])]),a("h4",{attrs:{id:"_5-çˆ¬è™«ä»£ç†-ip-ä»¥åŠç”¨æˆ·ä»£ç†é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-çˆ¬è™«ä»£ç†-ip-ä»¥åŠç”¨æˆ·ä»£ç†é…ç½®"}},[s._v("#")]),s._v(" 5.çˆ¬è™«ä»£ç† ip ä»¥åŠç”¨æˆ·ä»£ç†é…ç½®")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# config.py ä»£ç† IP æ± é“¾æ¥")]),s._v("\nallowed_domains "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://www.*****.com/"')]),s._v("\nPROXY_HOST "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://*********/"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h5",{attrs:{id:"_2-ã€Œmiddlewares-pyã€æ·»åŠ ä»¥ä¸‹é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ã€Œmiddlewares-pyã€æ·»åŠ ä»¥ä¸‹é…ç½®"}},[s._v("#")]),s._v(" 2). ã€Œmiddlewares.pyã€æ·»åŠ ä»¥ä¸‹é…ç½®")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¼å…¥éšæœºæ¨¡å—")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" random\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" requests\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("config "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¼å…¥settingsæ–‡ä»¶ä¸­çš„IPPOOL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("settings "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" IPPOOL\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¼å…¥å®˜æ–¹æ–‡æ¡£å¯¹åº”çš„HttpProxyMiddleware")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" scrapy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contrib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("downloadermiddleware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("httpproxy "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" HttpProxyMiddleware\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IPPOOlS")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HttpProxyMiddleware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆå§‹åŒ–")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ip"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ip "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ip\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¯·æ±‚å¤„ç†ï¼ˆé¦–å…ˆä½¿ç”¨setting.pyä¸­é…ç½®çš„IPï¼Œè‹¥æ²¡æœ‰åˆ™ä½¿ç”¨æ¥å£è·å–ï¼‰")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("process_request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" spider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å…ˆéšæœºè·å–ä¸€ä¸ªIP")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" IPPOOL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            thisip "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" random"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("choice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("IPPOOL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"å½“å‰ä½¿ç”¨IPæ˜¯ï¼š"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" thisip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipaddr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("meta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"proxy"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" thisip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipaddr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n                res "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" requests"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PROXY_HOST "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"get/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("text\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"å½“å‰ä½¿ç”¨IPæ˜¯ï¼š"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("testAgentIP"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),s._v("\n            request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("meta"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"proxy"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" res\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æµ‹è¯• è·å–çš„ ip")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("testAgentIP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        res "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" requests"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("allowed_domains"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" proxies"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://{}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("proxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("status_code "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("False")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("h5",{attrs:{id:"_3-ã€Œmiddlewares-pyã€æ·»åŠ ä»¥ä¸‹é…ç½®-ç”¨æˆ·ä»£ç†é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-ã€Œmiddlewares-pyã€æ·»åŠ ä»¥ä¸‹é…ç½®-ç”¨æˆ·ä»£ç†é…ç½®"}},[s._v("#")]),s._v(" 3). ã€Œmiddlewares.pyã€æ·»åŠ ä»¥ä¸‹é…ç½® ç”¨æˆ·ä»£ç†é…ç½®")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -*- coding: utf-8 -*-#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¼å…¥éšæœºæ¨¡å—")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" random\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¼å…¥å®˜æ–¹æ–‡æ¡£å¯¹åº”çš„HttpProxyMiddleware")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" scrapy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contrib"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("downloadermiddleware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("useragent "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" UserAgentMiddleware\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¼å…¥settingsæ–‡ä»¶ä¸­çš„UPPOOL")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("settings "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" UPPOOL\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Uamid")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("UserAgentMiddleware"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆå§‹åŒ– æ³¨æ„ä¸€å®šè¦user_agentï¼Œä¸ç„¶å®¹æ˜“æŠ¥é”™")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" user_agent"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_agent "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" user_agent\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¯·æ±‚å¤„ç†")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("process_request")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" spider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å…ˆéšæœºé€‰æ‹©ä¸€ä¸ªç”¨æˆ·ä»£ç†")]),s._v("\n        thisua "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" random"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("choice"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("UPPOOL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"å½“å‰ä½¿ç”¨User-Agentæ˜¯ï¼š"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" thisua"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("setdefault"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'User-Agent'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" thisua"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h5",{attrs:{id:"_4-setting-py-æ·»åŠ é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-setting-py-æ·»åŠ é…ç½®"}},[s._v("#")]),s._v(" 4).   setting.py æ·»åŠ é…ç½®")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾ç½®IPæ±   ï¼ˆè‹¥ä½¿ç”¨å…¬å¸çš„ä»£ç† IP æ± ï¼Œè¿™é‡Œè®¸åˆ¶ç©ºï¼‰")]),s._v("\nIPPOOL "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipaddr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"120.210.219.105:80"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipaddr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"120.210.219.104:80"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipaddr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"58.22.204.45:9000"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipaddr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"39.137.107.98:80"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipaddr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"111.206.6.101:80"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®ä¸‹è½½ä¸­é—´ä»¶çš„è¿æ¥ä¿¡æ¯(è¿™é‡Œæ˜¯ä»£ç†çš„å…³é—­ä¸å¼€å¯)")]),s._v("\nDOWNLOADER_MIDDLEWARES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{project name}.middlewares.IPPOOlS'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("125")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'scrapy.contrib.downloadermiddleware.useragent.UserAgentMiddleware'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{project name}.uamid.Uamid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾ç½®ç”¨æˆ·ä»£ç†æ± ")]),s._v("\nUPPOOL "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Mozilla/5.0 (Windows NT 10.0; WOW64; rv:52.0) Gecko/20100101 Firefox/52.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 "')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Safari/537.36"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 "')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Safari/537.36 Edge/14.14393 "')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("h2",{attrs:{id:"å…¶ä»–-settings-py-é…ç½®ï¼ˆå§‹ä¸Šæœ€å…¨â€œsettings-pyâ€æ–‡ä»¶ï¼‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–-settings-py-é…ç½®ï¼ˆå§‹ä¸Šæœ€å…¨â€œsettings-pyâ€æ–‡ä»¶ï¼‰"}},[s._v("#")]),s._v(" å…¶ä»– settings.py é…ç½®ï¼ˆå§‹ä¸Šæœ€å…¨â€œsettings.pyâ€æ–‡ä»¶ï¼‰")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -*- coding: utf-8 -*-")]),s._v("\nfrom .config "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("import")]),s._v(" *\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Scrapy settings for sgcio project")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# For simplicity, this file contains only settings considered important or")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# commonly used. You can find more settings consulting the documentation:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     https://doc.scrapy.org/en/latest/topics/settings.html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     https://doc.scrapy.org/en/latest/topics/downloader-middleware.html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     https://doc.scrapy.org/en/latest/topics/spider-middleware.html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1ã€é¡¹ç›®åç§°ï¼Œé»˜è®¤çš„USER_AGENTç”±å®ƒæ¥æ„æˆï¼Œä¹Ÿä½œä¸ºæ—¥å¿—è®°å½•çš„æ—¥å¿—å")]),s._v("\nBOT_NAME "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sgcio'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2ã€çˆ¬è™«åº”ç”¨è·¯å¾„")]),s._v("\nSPIDER_MODULES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sgcio.spiders'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nNEWSPIDER_MODULE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sgcio.spiders'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3ã€è°ƒåº¦å™¨é˜Ÿåˆ—")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¿é—®URLå»é‡")]),s._v("\nDUPEFILTER_CLASS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scrapy_redis.dupefilter.RFPDupeFilter"')]),s._v("\nSCHEDULER "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"scrapy_redis.scheduler.Scheduler"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ===>çˆ¬å–æ·±åº¦ä¸çˆ¬å–æ–¹å¼<===")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1ã€çˆ¬è™«å…è®¸çš„æœ€å¤§æ·±åº¦ï¼Œå¯ä»¥é€šè¿‡metaæŸ¥çœ‹å½“å‰æ·±åº¦ï¼›0è¡¨ç¤ºæ— æ·±åº¦")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DEPTH_LIMIT = 3")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2ã€çˆ¬å–æ—¶ï¼Œ0è¡¨ç¤ºæ·±åº¦ä¼˜å…ˆLifo(é»˜è®¤)ï¼›1è¡¨ç¤ºå¹¿åº¦ä¼˜å…ˆFiFo")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åè¿›å…ˆå‡ºï¼Œæ·±åº¦ä¼˜å…ˆ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DEPTH_PRIORITY = 0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SCHEDULER_DISK_QUEUE = 'scrapy.squeue.PickleLifoDiskQueue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SCHEDULER_MEMORY_QUEUE = 'scrapy.squeue.LifoMemoryQueue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å…ˆè¿›å…ˆå‡ºï¼Œå¹¿åº¦ä¼˜å…ˆ")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DEPTH_PRIORITY = 1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SCHEDULER_DISK_QUEUE = 'scrapy.squeue.PickleFifoDiskQueue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SCHEDULER_MEMORY_QUEUE = 'scrapy.squeue.FifoMemoryQueue'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŒ‡å®šæ’åºçˆ¬å–åœ°å€æ—¶ä½¿ç”¨çš„é˜Ÿåˆ—ï¼Œ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é»˜è®¤çš„ æŒ‰ä¼˜å…ˆçº§æ’åº(Scrapyé»˜è®¤)ï¼Œç”±sorted setå®ç°çš„ä¸€ç§éFIFOã€LIFOæ–¹å¼ã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SCHEDULER_QUEUE_CLASS = 'scrapy_redis.queue.SpiderPriorityQueue'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰çš„ æŒ‰å…ˆè¿›å…ˆå‡ºæ’åºï¼ˆFIFOï¼‰")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SCHEDULER_QUEUE_CLASS = 'scrapy_redis.queue.SpiderStack'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯é€‰çš„ æŒ‰åè¿›å…ˆå‡ºæ’åºï¼ˆLIFOï¼‰")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SCHEDULER_QUEUE_CLASS = 'scrapy_redis.queue.SpiderStack'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åœ¨redisä¸­ä¿æŒscrapy-redisç”¨åˆ°çš„å„ä¸ªé˜Ÿåˆ—ï¼Œä»è€Œå…è®¸æš‚åœå’Œæš‚åœåæ¢å¤ï¼Œä¹Ÿå°±æ˜¯ä¸æ¸…ç†redis queues")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SCHEDULER_PERSIST = True")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åªåœ¨ä½¿ç”¨SpiderQueueæˆ–è€…SpiderStackæ˜¯æœ‰æ•ˆçš„å‚æ•°ï¼ŒæŒ‡å®šçˆ¬è™«å…³é—­çš„æœ€å¤§é—´éš”æ—¶é—´")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SCHEDULER_IDLE_BEFORE_CLOSE = 10")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3ã€å®¢æˆ·ç«¯User-Agentè¯·æ±‚å¤´")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Crawl responsibly by identifying yourself (and your website) on the user-agent")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®ƒå®šä¹‰äº†åœ¨æŠ“å–ç½‘ç«™æ‰€ä½¿ç”¨çš„ç”¨æˆ·ä»£ç†ï¼Œé»˜è®¤å€¼ï¼šâ€œScrapy / VERSIONâ€œ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# USER_AGENT = 'sgcio (+http://www.yourdomain.com)'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4ã€æ˜¯å¦éµå¾ªçˆ¬è™«åè®®")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Obey robots.txt rules")]),s._v("\nROBOTSTXT_OBEY "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" False  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸éµå®ˆç½‘ç»œçˆ¬è™«è§„åˆ™ :)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1ã€ä¸‹è½½å™¨æ€»å…±æœ€å¤§å¤„ç†çš„å¹¶å‘è¯·æ±‚æ•°,é»˜è®¤å€¼16")]),s._v("\nCONCURRENT_REQUESTS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¹¶å‘æ•°é‡")]),s._v("\nDOWNLOAD_TIMEOUT "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("260")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¯·æ±‚è¶…æ—¶æ—¶é—´")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -----------------------æ—¥å¿—æ–‡ä»¶é…ç½®-----------------------------------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é»˜è®¤: True,æ˜¯å¦å¯ç”¨loggingã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# LOG_ENABLED=True")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é»˜è®¤: 'utf-8',loggingä½¿ç”¨çš„ç¼–ç ã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# LOG_ENCODING='utf-8'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®ƒæ˜¯åˆ©ç”¨å®ƒçš„æ—¥å¿—ä¿¡æ¯å¯ä»¥è¢«æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ã€‚é»˜è®¤å€¼ï¼š'%(asctime)s [%(name)s] %(levelname)s: %(message)s'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# LOG_FORMAT='%(asctime)s [%(name)s] %(levelname)s: %(message)s'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®ƒæ˜¯åˆ©ç”¨å®ƒçš„æ—¥æœŸ/æ—¶é—´å¯ä»¥æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚é»˜è®¤å€¼ï¼š '%Y-%m-%d %H:%M:%S'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# LOG_DATEFORMAT='%Y-%m-%d %H:%M:%S'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ—¥å¿—æ–‡ä»¶å")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# LOG_FILE = "dg.log"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ—¥å¿—æ–‡ä»¶çº§åˆ«,é»˜è®¤å€¼ï¼šâ€œDEBUGâ€,logçš„æœ€ä½çº§åˆ«ã€‚å¯é€‰çš„çº§åˆ«æœ‰: CRITICALã€ ERRORã€WARNINGã€INFOã€DEBUG ã€‚")]),s._v("\nLOG_LEVEL "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'DEBUG'")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ—¥å¿—ç­‰çº§  æ³¨æ„: è°ƒè¯•æ—¶å¯ä»¥å°†æ­¤å¥æ³¨é‡Šæˆ–æ”¹ä¸º 'DEBUG'ï¼›è¿è¡Œä¸ºâ€˜INFOâ€™")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŒ‡å®šredisæ•°æ®åº“çš„è¿æ¥å‚æ•°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ----------------------redisçš„åœ°å€é…ç½®-------------------------------------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Specify the full Redis URL for connecting (optional).")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# If set, this takes precedence over the REDIS_HOST and REDIS_PORT settings.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŒ‡å®šç”¨äºè¿æ¥redisçš„URLï¼ˆå¯é€‰ï¼‰")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¦‚æœè®¾ç½®æ­¤é¡¹ï¼Œåˆ™æ­¤é¡¹ä¼˜å…ˆçº§é«˜äºè®¾ç½®çš„REDIS_HOST å’Œ REDIS_PORT")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_URL = 'redis://root:å¯†ç @ä¸»æœºï¼©ï¼°:ç«¯å£'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_URL = 'redis://root:123456@192.168.8.30:6379'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_URL = 'redis://root:%s@%s:%s' % (password_redis, host_redis, port_redis)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è‡ªå®šä¹‰çš„rediså‚æ•°ï¼ˆè¿æ¥è¶…æ—¶ä¹‹ç±»çš„ï¼‰")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_PARAMS = {'db': db_redis}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Specify the host and port to use when connecting to Redis (optional).")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŒ‡å®šè¿æ¥åˆ°redisæ—¶ä½¿ç”¨çš„ç«¯å£å’Œåœ°å€ï¼ˆå¯é€‰ï¼‰")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_HOST = '127.0.0.1'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_PORT = 6379")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_PASS = '19940225'")]),s._v("\n\nREDIS_HOST "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" REDIS_HOST\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_HOST = 'localhost'")]),s._v("\nREDIS_PORT "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" REDIS_PORT\nREDIS_DB "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" REDIS_DB_0\nREDIS_PARAMS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'password'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" REDIS_PASSWORD,\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿™æ˜¯å“åº”çš„ä¸‹è½½å™¨ä¸‹è½½çš„æœ€å¤§å°ºå¯¸ï¼Œé»˜è®¤å€¼ï¼š1073741824 (1024MB)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DOWNLOAD_MAXSIZE=1073741824")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®ƒå®šä¹‰ä¸ºå“åº”ä¸‹è½½è­¦å‘Šçš„å¤§å°ï¼Œé»˜è®¤å€¼ï¼š33554432 (32MB)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DOWNLOAD_WARNSIZE=33554432")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ------------------------å…¨å±€å¹¶å‘æ•°çš„ä¸€äº›é…ç½®:-------------------------------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configure maximum concurrent requests performed by Scrapy (default: 16)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é»˜è®¤ Request å¹¶å‘æ•°ï¼š16")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CONCURRENT_REQUESTS = 32")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é»˜è®¤ Item å¹¶å‘æ•°ï¼š100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CONCURRENT_ITEMS = 100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The download delay setting will honor only one of:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é»˜è®¤æ¯ä¸ªåŸŸåçš„å¹¶å‘æ•°ï¼š8")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CONCURRENT_REQUESTS_PER_DOMAIN = 16")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¯ä¸ªIPçš„æœ€å¤§å¹¶å‘æ•°ï¼š0è¡¨ç¤ºå¿½ç•¥")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CONCURRENT_REQUESTS_PER_IP = 0")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configure a delay for requests for the same website (default: 0)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See https://doc.scrapy.org/en/latest/topics/settings.html#download-delay")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See also autothrottle settings and docs")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4ã€å¦‚æœæ²¡æœ‰å¼€å¯æ™ºèƒ½é™é€Ÿï¼Œè¿™ä¸ªå€¼å°±ä»£è¡¨ä¸€ä¸ªè§„å®šæ­»çš„å€¼ï¼Œä»£è¡¨å¯¹åŒä¸€ç½‘å€å»¶è¿Ÿè¯·æ±‚çš„ç§’æ•°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æœ€å°å»¶è¿Ÿ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DOWNLOAD_DELAY = 3")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The download delay setting will honor only one of:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2ã€æ¯ä¸ªåŸŸåèƒ½å¤Ÿè¢«æ‰§è¡Œçš„æœ€å¤§å¹¶å‘è¯·æ±‚æ•°ç›®ï¼Œé»˜è®¤å€¼8")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CONCURRENT_REQUESTS_PER_DOMAIN = 16")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3ã€èƒ½å¤Ÿè¢«å•ä¸ªIPå¤„ç†çš„å¹¶å‘è¯·æ±‚æ•°ï¼Œé»˜è®¤å€¼0ï¼Œä»£è¡¨æ— é™åˆ¶ï¼Œéœ€è¦æ³¨æ„ä¸¤ç‚¹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Iã€å¦‚æœä¸ä¸ºé›¶ï¼Œé‚£CONCURRENT_REQUESTS_PER_DOMAINå°†è¢«å¿½ç•¥ï¼Œå³å¹¶å‘æ•°çš„é™åˆ¶æ˜¯æŒ‰ç…§æ¯ä¸ªIPæ¥è®¡ç®—ï¼Œè€Œä¸æ˜¯æ¯ä¸ªåŸŸå")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# IIã€è¯¥è®¾ç½®ä¹Ÿå½±å“DOWNLOAD_DELAYï¼Œå¦‚æœè¯¥å€¼ä¸ä¸ºé›¶ï¼Œé‚£ä¹ˆDOWNLOAD_DELAYä¸‹è½½å»¶è¿Ÿæ˜¯é™åˆ¶æ¯ä¸ªIPè€Œä¸æ˜¯æ¯ä¸ªåŸŸ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CONCURRENT_REQUESTS_PER_IP = 16")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5ã€æ˜¯å¦æ”¯æŒcookieï¼Œcookiejarè¿›è¡Œæ“ä½œcookieï¼Œé»˜è®¤å¼€å¯,ç¦ç”¨cookies,æœ‰äº›ç«™ç‚¹ä¼šä»cookiesä¸­åˆ¤æ–­æ˜¯å¦ä¸ºçˆ¬è™«")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Disable cookies (enabled by default)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# COOKIES_ENABLED = False")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 6ã€Telnetç”¨äºæŸ¥çœ‹å½“å‰çˆ¬è™«çš„ä¿¡æ¯ï¼Œæ“ä½œçˆ¬è™«ç­‰...ä½¿ç”¨telnet ip port ï¼Œç„¶åé€šè¿‡å‘½ä»¤æ“ä½œ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Disable Telnet Console (enabled by default)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# TELNETCONSOLE_ENABLED = False")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# TELNETCONSOLE_HOST = '127.0.0.1'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# TELNETCONSOLE_PORT = [6023,]")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7ã€Scrapyå‘é€HTTPè¯·æ±‚é»˜è®¤ä½¿ç”¨çš„è¯·æ±‚å¤´")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Override the default request headers:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DEFAULT_REQUEST_HEADERS = {")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#   'Accept-Language': 'en',")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# }")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enable or disable spider middlewares")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See https://doc.scrapy.org/en/latest/topics/spider-middleware.html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SPIDER_MIDDLEWARES = {")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    'sgcio.middlewares.SgcioSpiderMiddleware': 543,")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# }")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enable or disable downloader middlewares")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ã€€å¯ç”¨æˆ–ç¦ç”¨downloaderä¸­é—´ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DOWNLOADER_MIDDLEWARES = {")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    'sgcio.middlewares.SgcioDownloaderMiddleware': 543,")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# }")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enable or disable extensions")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See https://doc.scrapy.org/en/latest/topics/extensions.html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ã€€å¯ç”¨æˆ–ç¦ç”¨æ‰©å±•")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# EXTENSIONS = {")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    'scrapy.extensions.telnet.TelnetConsole': None,")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# }")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾ç½®IPæ± ")]),s._v("\nIPPOOL "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipaddr"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"120.210.219.105:80"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipaddr"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"120.210.219.104:80"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipaddr"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"58.22.204.45:9000"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipaddr"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"39.137.107.98:80"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ipaddr"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"111.206.6.101:80"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®ä¸‹è½½ä¸­é—´ä»¶çš„è¿æ¥ä¿¡æ¯")]),s._v("\nDOWNLOADER_MIDDLEWARES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware': 123,")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'jinriwujin.middlewares.IPPOOlS': 125,")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'scrapy.contrib.downloadermiddleware.useragent.UserAgentMiddleware'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jinriwujin.uamid.Uamid'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾ç½®ç”¨æˆ·ä»£ç†æ± ")]),s._v("\nUPPOOL "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Mozilla/5.0 (Windows NT 10.0; WOW64; rv:52.0) Gecko/20100101 Firefox/52.0"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 "')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Safari/537.36"')]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 "')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Safari/537.36 Edge/14.14393 "')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Configure item pipelines")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See https://doc.scrapy.org/en/latest/topics/item-pipeline.html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®é¡¹ç›®ç®¡é“")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ITEM_PIPELINES = {")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    'sgcio.pipelines.SgcioPipeline': 300,")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# }")]),s._v("\nITEM_PIPELINES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 'scrapy.pipelines.files.FilesPipeline': 1,")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{project}.pipelines.FileDownloadPipeline'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(",\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{project}.pipelines.{project}Pipeline'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nFILES_STORE "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'file'")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ–‡ä»¶å­˜å‚¨ä½ç½®")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸‰ï¼šé™é€Ÿç®—æ³•")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  è‡ªåŠ¨é™é€Ÿç®—æ³•åŸºäºä»¥ä¸‹è§„åˆ™è°ƒæ•´ä¸‹è½½å»¶è¿Ÿ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1ã€spiderså¼€å§‹æ—¶çš„ä¸‹è½½å»¶è¿Ÿæ˜¯åŸºäºAUTOTHROTTLE_START_DELAYçš„å€¼")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2ã€å½“æ”¶åˆ°ä¸€ä¸ªresponseï¼Œå¯¹ç›®æ ‡ç«™ç‚¹çš„ä¸‹è½½å»¶è¿Ÿ=æ”¶åˆ°å“åº”çš„å»¶è¿Ÿæ—¶é—´/AUTOTHROTTLE_TARGET_CONCURRENCY")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3ã€ä¸‹ä¸€æ¬¡è¯·æ±‚çš„ä¸‹è½½å»¶è¿Ÿå°±è¢«è®¾ç½®æˆï¼šå¯¹ç›®æ ‡ç«™ç‚¹ä¸‹è½½å»¶è¿Ÿæ—¶é—´å’Œè¿‡å»çš„ä¸‹è½½å»¶è¿Ÿæ—¶é—´çš„å¹³å‡å€¼")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4ã€æ²¡æœ‰è¾¾åˆ°200ä¸ªresponseåˆ™ä¸å…è®¸é™ä½å»¶è¿Ÿ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5ã€ä¸‹è½½å»¶è¿Ÿä¸èƒ½å˜çš„æ¯”DOWNLOAD_DELAYæ›´ä½æˆ–è€…æ¯”AUTOTHROTTLE_MAX_DELAYæ›´é«˜")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enable and configure the AutoThrottle extension (disabled by default)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See https://doc.scrapy.org/en/latest/topics/autothrottle.html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ã€€å¯ç”¨å¹¶é…ç½®è‡ªåŠ¨èŠ‚æµé˜€æ‰©å±•(é»˜è®¤ç¦ç”¨)ã€€é˜²æ­¢è¯·æ±‚è¿‡å¿«ï¼Œå°†æœåŠ¡å™¨æŠ“å´©ã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# AUTOTHROTTLE_ENABLED = True")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The initial download delay")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# èµ·å§‹çš„å»¶è¿Ÿ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# AUTOTHROTTLE_START_DELAY = 5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The maximum download delay to be set in case of high latencies")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æœ€å¤§å»¶è¿Ÿ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# AUTOTHROTTLE_MAX_DELAY = 60")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The average number of requests Scrapy should be sending in parallel to")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# each remote server")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¯ç§’å¹¶å‘è¯·æ±‚æ•°çš„å¹³å‡å€¼ï¼Œä¸èƒ½é«˜äº CONCURRENT_REQUESTS_PER_DOMAINæˆ–CONCURRENT_REQUESTS_PER_IPï¼Œè°ƒé«˜äº†åˆ™ååé‡å¢å¤§å¼ºå¥¸ç›®æ ‡ç«™ç‚¹ï¼Œè°ƒä½äº†åˆ™å¯¹ç›®æ ‡ç«™ç‚¹æ›´åŠ â€ç¤¼è²Œâ€œ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¯ä¸ªç‰¹å®šçš„æ—¶é—´ç‚¹ï¼Œscrapyå¹¶å‘è¯·æ±‚çš„æ•°ç›®éƒ½å¯èƒ½é«˜äºæˆ–ä½äºè¯¥å€¼ï¼Œè¿™æ˜¯çˆ¬è™«è§†å›¾è¾¾åˆ°çš„å»ºè®®å€¼è€Œä¸æ˜¯ç¡¬é™åˆ¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enable showing throttling stats for every response received:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è°ƒè¯•")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# AUTOTHROTTLE_DEBUG = False")]),s._v("\n\nMYEXT_ENABLED "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" True  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¼€å¯æ‰©å±•")]),s._v("\nIDLE_NUMBER "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®ç©ºé—²æŒç»­æ—¶é—´å•ä½ä¸º 60ä¸ª ï¼Œä¸€ä¸ªæ—¶é—´å•ä½ä¸º5s,ä¹Ÿå°±æ˜¯äº”åˆ†é’Ÿ")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åœ¨ EXTENSIONS é…ç½®ï¼Œæ¿€æ´»æ‰©å±•")]),s._v("\nEXTENSIONS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jinriwujin.extensions.RedisSpiderSmartIdleClosedExensions'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enable and configure HTTP caching (disabled by default)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ã€€å¯ç”¨å’Œé…ç½®HTTPç¼“å­˜ï¼ˆé»˜è®¤ç¦ç”¨ï¼‰")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See https://doc.scrapy.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ˜¯å¦å¯ç”¨ç¼“å­˜ç­–ç•¥")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HTTPCACHE_ENABLED = True")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¼“å­˜ç­–ç•¥ï¼šæ‰€æœ‰è¯·æ±‚å‡ç¼“å­˜ï¼Œä¸‹æ¬¡åœ¨è¯·æ±‚ç›´æ¥è®¿é—®åŸæ¥çš„ç¼“å­˜å³å¯")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# HTTPCACHE_POLICY = "scrapy.extensions.httpcache.DummyPolicy"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¼“å­˜ç­–ç•¥ï¼šæ ¹æ®Httpå“åº”å¤´ï¼šCache-Controlã€Last-Modified ç­‰è¿›è¡Œç¼“å­˜çš„ç­–ç•¥")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# HTTPCACHE_POLICY = "scrapy.extensions.httpcache.RFC2616Policy"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¼“å­˜è¶…æ—¶æ—¶é—´")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HTTPCACHE_EXPIRATION_SECS = 0")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¼“å­˜ä¿å­˜è·¯å¾„")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HTTPCACHE_DIR = 'httpcache'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¼“å­˜å¿½ç•¥çš„HttpçŠ¶æ€ç ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HTTPCACHE_IGNORE_HTTP_CODES = []")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¼“å­˜å­˜å‚¨çš„æ’ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HTTPCACHE_STORAGE = 'scrapy.extensions.httpcache.FilesystemCacheStorage'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¿½ç•¥çŠ¶æ€")]),s._v("\nHTTPERROR_ALLOWED_CODES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("404")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -----------------------------------------æš‚æ—¶ç”¨ä¸åˆ°-------------------------------------------------------")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®ƒå®šä¹‰äº†å°†è¢«å…è®¸æŠ“å–çš„ç½‘å€çš„é•¿åº¦ä¸ºURLçš„æœ€å¤§æé™ï¼Œé»˜è®¤å€¼ï¼š2083")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# URLLENGTH_LIMIT=2083")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# çˆ¬å–ç½‘ç«™æœ€å¤§å…è®¸çš„æ·±åº¦(depth)å€¼,é»˜è®¤å€¼0ã€‚å¦‚æœä¸º0ï¼Œåˆ™æ²¡æœ‰é™åˆ¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DEPTH_LIMIT = 3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ•´æ•°å€¼ã€‚ç”¨äºæ ¹æ®æ·±åº¦è°ƒæ•´requestä¼˜å…ˆçº§ã€‚å¦‚æœä¸º0ï¼Œåˆ™ä¸æ ¹æ®æ·±åº¦è¿›è¡Œä¼˜å…ˆçº§è°ƒæ•´ã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# DEPTH_PRIORITY=3")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æœ€å¤§ç©ºé—²æ—¶é—´é˜²æ­¢åˆ†å¸ƒå¼çˆ¬è™«å› ä¸ºç­‰å¾…è€Œå…³é—­")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿™åªæœ‰å½“ä¸Šé¢è®¾ç½®çš„é˜Ÿåˆ—ç±»æ˜¯SpiderQueueæˆ–SpiderStackæ—¶æ‰æœ‰æ•ˆ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¹¶ä¸”å½“æ‚¨çš„èœ˜è››é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œä¹Ÿå¯èƒ½ä¼šé˜»æ­¢åŒä¸€æ—¶é—´å¯åŠ¨ï¼ˆç”±äºé˜Ÿåˆ—ä¸ºç©ºï¼‰")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SCHEDULER_IDLE_BEFORE_CLOSE = 10")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åºåˆ—åŒ–é¡¹ç›®ç®¡é“ä½œä¸ºredis Keyå­˜å‚¨")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_ITEMS_KEY = '%(spider)s:items'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é»˜è®¤ä½¿ç”¨ScrapyJSONEncoderè¿›è¡Œé¡¹ç›®åºåˆ—åŒ–")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# You can use any importable path to a callable object.")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_ITEMS_SERIALIZER = 'json.dumps'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è‡ªå®šä¹‰rediså®¢æˆ·ç«¯ç±»")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_PARAMS['redis_cls'] = 'myproject.RedisClient'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¦‚æœä¸ºTrueï¼Œåˆ™ä½¿ç”¨redisçš„'spop'è¿›è¡Œæ“ä½œã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¦‚æœéœ€è¦é¿å…èµ·å§‹ç½‘å€åˆ—è¡¨å‡ºç°é‡å¤ï¼Œè¿™ä¸ªé€‰é¡¹éå¸¸æœ‰ç”¨ã€‚å¼€å¯æ­¤é€‰é¡¹urlså¿…é¡»é€šè¿‡saddæ·»åŠ ï¼Œå¦åˆ™ä¼šå‡ºç°ç±»å‹é”™è¯¯ã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_START_URLS_AS_SET = False")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# RedisSpiderå’ŒRedisCrawlSpideré»˜è®¤ start_usls é”®")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_START_URLS_KEY = '%(name)s:start_urls'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾ç½®redisä½¿ç”¨utf-8ä¹‹å¤–çš„ç¼–ç ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIS_ENCODING = 'latin1'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Disable Telnet Console (enabled by default)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®ƒå®šä¹‰æ˜¯å¦å¯ç”¨telnetconsole,é»˜è®¤å€¼ï¼šTrue")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# TELNETCONSOLE_ENABLED = False")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enable and configure the AutoThrottle extension (disabled by default)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# See http://doc.scrapy.org/en/latest/topics/autothrottle.html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# AUTOTHROTTLE_ENABLED = True")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The initial download delay")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¼€å§‹ä¸‹è½½æ—¶é™é€Ÿå¹¶å»¶è¿Ÿæ—¶é—´")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# AUTOTHROTTLE_START_DELAY = 5")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The maximum download delay to be set in case of high latencies")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é«˜å¹¶å‘è¯·æ±‚æ—¶æœ€å¤§å»¶è¿Ÿæ—¶é—´")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# AUTOTHROTTLE_MAX_DELAY = 60")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The average number of requests Scrapy should be sending in parallel to")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# each remote server")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enable showing throttling stats for every response received:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# AUTOTHROTTLE_DEBUG = False")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¦æ­¢é‡å®šå‘")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é™¤éæ‚¨å¯¹è·Ÿè¿›é‡å®šå‘æ„Ÿå…´è¶£ï¼Œå¦åˆ™è¯·è€ƒè™‘å…³é—­é‡å®šå‘ã€‚ å½“è¿›è¡Œé€šç”¨çˆ¬å–æ—¶ï¼Œä¸€èˆ¬çš„åšæ³•æ˜¯ä¿å­˜é‡å®šå‘çš„åœ°å€ï¼Œå¹¶åœ¨ä¹‹åçš„çˆ¬å–è¿›è¡Œè§£æã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿™ä¿è¯äº†æ¯æ‰¹çˆ¬å–çš„requestæ•°ç›®åœ¨ä¸€å®šçš„æ•°é‡ï¼Œ å¦åˆ™é‡å®šå‘å¾ªç¯å¯èƒ½ä¼šå¯¼è‡´çˆ¬è™«åœ¨æŸä¸ªç«™ç‚¹è€—è´¹è¿‡å¤šèµ„æºã€‚")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# REDIRECT_ENABLED = False")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br"),a("span",{staticClass:"line-number"},[s._v("66")]),a("br"),a("span",{staticClass:"line-number"},[s._v("67")]),a("br"),a("span",{staticClass:"line-number"},[s._v("68")]),a("br"),a("span",{staticClass:"line-number"},[s._v("69")]),a("br"),a("span",{staticClass:"line-number"},[s._v("70")]),a("br"),a("span",{staticClass:"line-number"},[s._v("71")]),a("br"),a("span",{staticClass:"line-number"},[s._v("72")]),a("br"),a("span",{staticClass:"line-number"},[s._v("73")]),a("br"),a("span",{staticClass:"line-number"},[s._v("74")]),a("br"),a("span",{staticClass:"line-number"},[s._v("75")]),a("br"),a("span",{staticClass:"line-number"},[s._v("76")]),a("br"),a("span",{staticClass:"line-number"},[s._v("77")]),a("br"),a("span",{staticClass:"line-number"},[s._v("78")]),a("br"),a("span",{staticClass:"line-number"},[s._v("79")]),a("br"),a("span",{staticClass:"line-number"},[s._v("80")]),a("br"),a("span",{staticClass:"line-number"},[s._v("81")]),a("br"),a("span",{staticClass:"line-number"},[s._v("82")]),a("br"),a("span",{staticClass:"line-number"},[s._v("83")]),a("br"),a("span",{staticClass:"line-number"},[s._v("84")]),a("br"),a("span",{staticClass:"line-number"},[s._v("85")]),a("br"),a("span",{staticClass:"line-number"},[s._v("86")]),a("br"),a("span",{staticClass:"line-number"},[s._v("87")]),a("br"),a("span",{staticClass:"line-number"},[s._v("88")]),a("br"),a("span",{staticClass:"line-number"},[s._v("89")]),a("br"),a("span",{staticClass:"line-number"},[s._v("90")]),a("br"),a("span",{staticClass:"line-number"},[s._v("91")]),a("br"),a("span",{staticClass:"line-number"},[s._v("92")]),a("br"),a("span",{staticClass:"line-number"},[s._v("93")]),a("br"),a("span",{staticClass:"line-number"},[s._v("94")]),a("br"),a("span",{staticClass:"line-number"},[s._v("95")]),a("br"),a("span",{staticClass:"line-number"},[s._v("96")]),a("br"),a("span",{staticClass:"line-number"},[s._v("97")]),a("br"),a("span",{staticClass:"line-number"},[s._v("98")]),a("br"),a("span",{staticClass:"line-number"},[s._v("99")]),a("br"),a("span",{staticClass:"line-number"},[s._v("100")]),a("br"),a("span",{staticClass:"line-number"},[s._v("101")]),a("br"),a("span",{staticClass:"line-number"},[s._v("102")]),a("br"),a("span",{staticClass:"line-number"},[s._v("103")]),a("br"),a("span",{staticClass:"line-number"},[s._v("104")]),a("br"),a("span",{staticClass:"line-number"},[s._v("105")]),a("br"),a("span",{staticClass:"line-number"},[s._v("106")]),a("br"),a("span",{staticClass:"line-number"},[s._v("107")]),a("br"),a("span",{staticClass:"line-number"},[s._v("108")]),a("br"),a("span",{staticClass:"line-number"},[s._v("109")]),a("br"),a("span",{staticClass:"line-number"},[s._v("110")]),a("br"),a("span",{staticClass:"line-number"},[s._v("111")]),a("br"),a("span",{staticClass:"line-number"},[s._v("112")]),a("br"),a("span",{staticClass:"line-number"},[s._v("113")]),a("br"),a("span",{staticClass:"line-number"},[s._v("114")]),a("br"),a("span",{staticClass:"line-number"},[s._v("115")]),a("br"),a("span",{staticClass:"line-number"},[s._v("116")]),a("br"),a("span",{staticClass:"line-number"},[s._v("117")]),a("br"),a("span",{staticClass:"line-number"},[s._v("118")]),a("br"),a("span",{staticClass:"line-number"},[s._v("119")]),a("br"),a("span",{staticClass:"line-number"},[s._v("120")]),a("br"),a("span",{staticClass:"line-number"},[s._v("121")]),a("br"),a("span",{staticClass:"line-number"},[s._v("122")]),a("br"),a("span",{staticClass:"line-number"},[s._v("123")]),a("br"),a("span",{staticClass:"line-number"},[s._v("124")]),a("br"),a("span",{staticClass:"line-number"},[s._v("125")]),a("br"),a("span",{staticClass:"line-number"},[s._v("126")]),a("br"),a("span",{staticClass:"line-number"},[s._v("127")]),a("br"),a("span",{staticClass:"line-number"},[s._v("128")]),a("br"),a("span",{staticClass:"line-number"},[s._v("129")]),a("br"),a("span",{staticClass:"line-number"},[s._v("130")]),a("br"),a("span",{staticClass:"line-number"},[s._v("131")]),a("br"),a("span",{staticClass:"line-number"},[s._v("132")]),a("br"),a("span",{staticClass:"line-number"},[s._v("133")]),a("br"),a("span",{staticClass:"line-number"},[s._v("134")]),a("br"),a("span",{staticClass:"line-number"},[s._v("135")]),a("br"),a("span",{staticClass:"line-number"},[s._v("136")]),a("br"),a("span",{staticClass:"line-number"},[s._v("137")]),a("br"),a("span",{staticClass:"line-number"},[s._v("138")]),a("br"),a("span",{staticClass:"line-number"},[s._v("139")]),a("br"),a("span",{staticClass:"line-number"},[s._v("140")]),a("br"),a("span",{staticClass:"line-number"},[s._v("141")]),a("br"),a("span",{staticClass:"line-number"},[s._v("142")]),a("br"),a("span",{staticClass:"line-number"},[s._v("143")]),a("br"),a("span",{staticClass:"line-number"},[s._v("144")]),a("br"),a("span",{staticClass:"line-number"},[s._v("145")]),a("br"),a("span",{staticClass:"line-number"},[s._v("146")]),a("br"),a("span",{staticClass:"line-number"},[s._v("147")]),a("br"),a("span",{staticClass:"line-number"},[s._v("148")]),a("br"),a("span",{staticClass:"line-number"},[s._v("149")]),a("br"),a("span",{staticClass:"line-number"},[s._v("150")]),a("br"),a("span",{staticClass:"line-number"},[s._v("151")]),a("br"),a("span",{staticClass:"line-number"},[s._v("152")]),a("br"),a("span",{staticClass:"line-number"},[s._v("153")]),a("br"),a("span",{staticClass:"line-number"},[s._v("154")]),a("br"),a("span",{staticClass:"line-number"},[s._v("155")]),a("br"),a("span",{staticClass:"line-number"},[s._v("156")]),a("br"),a("span",{staticClass:"line-number"},[s._v("157")]),a("br"),a("span",{staticClass:"line-number"},[s._v("158")]),a("br"),a("span",{staticClass:"line-number"},[s._v("159")]),a("br"),a("span",{staticClass:"line-number"},[s._v("160")]),a("br"),a("span",{staticClass:"line-number"},[s._v("161")]),a("br"),a("span",{staticClass:"line-number"},[s._v("162")]),a("br"),a("span",{staticClass:"line-number"},[s._v("163")]),a("br"),a("span",{staticClass:"line-number"},[s._v("164")]),a("br"),a("span",{staticClass:"line-number"},[s._v("165")]),a("br"),a("span",{staticClass:"line-number"},[s._v("166")]),a("br"),a("span",{staticClass:"line-number"},[s._v("167")]),a("br"),a("span",{staticClass:"line-number"},[s._v("168")]),a("br"),a("span",{staticClass:"line-number"},[s._v("169")]),a("br"),a("span",{staticClass:"line-number"},[s._v("170")]),a("br"),a("span",{staticClass:"line-number"},[s._v("171")]),a("br"),a("span",{staticClass:"line-number"},[s._v("172")]),a("br"),a("span",{staticClass:"line-number"},[s._v("173")]),a("br"),a("span",{staticClass:"line-number"},[s._v("174")]),a("br"),a("span",{staticClass:"line-number"},[s._v("175")]),a("br"),a("span",{staticClass:"line-number"},[s._v("176")]),a("br"),a("span",{staticClass:"line-number"},[s._v("177")]),a("br"),a("span",{staticClass:"line-number"},[s._v("178")]),a("br"),a("span",{staticClass:"line-number"},[s._v("179")]),a("br"),a("span",{staticClass:"line-number"},[s._v("180")]),a("br"),a("span",{staticClass:"line-number"},[s._v("181")]),a("br"),a("span",{staticClass:"line-number"},[s._v("182")]),a("br"),a("span",{staticClass:"line-number"},[s._v("183")]),a("br"),a("span",{staticClass:"line-number"},[s._v("184")]),a("br"),a("span",{staticClass:"line-number"},[s._v("185")]),a("br"),a("span",{staticClass:"line-number"},[s._v("186")]),a("br"),a("span",{staticClass:"line-number"},[s._v("187")]),a("br"),a("span",{staticClass:"line-number"},[s._v("188")]),a("br"),a("span",{staticClass:"line-number"},[s._v("189")]),a("br"),a("span",{staticClass:"line-number"},[s._v("190")]),a("br"),a("span",{staticClass:"line-number"},[s._v("191")]),a("br"),a("span",{staticClass:"line-number"},[s._v("192")]),a("br"),a("span",{staticClass:"line-number"},[s._v("193")]),a("br"),a("span",{staticClass:"line-number"},[s._v("194")]),a("br"),a("span",{staticClass:"line-number"},[s._v("195")]),a("br"),a("span",{staticClass:"line-number"},[s._v("196")]),a("br"),a("span",{staticClass:"line-number"},[s._v("197")]),a("br"),a("span",{staticClass:"line-number"},[s._v("198")]),a("br"),a("span",{staticClass:"line-number"},[s._v("199")]),a("br"),a("span",{staticClass:"line-number"},[s._v("200")]),a("br"),a("span",{staticClass:"line-number"},[s._v("201")]),a("br"),a("span",{staticClass:"line-number"},[s._v("202")]),a("br"),a("span",{staticClass:"line-number"},[s._v("203")]),a("br"),a("span",{staticClass:"line-number"},[s._v("204")]),a("br"),a("span",{staticClass:"line-number"},[s._v("205")]),a("br"),a("span",{staticClass:"line-number"},[s._v("206")]),a("br"),a("span",{staticClass:"line-number"},[s._v("207")]),a("br"),a("span",{staticClass:"line-number"},[s._v("208")]),a("br"),a("span",{staticClass:"line-number"},[s._v("209")]),a("br"),a("span",{staticClass:"line-number"},[s._v("210")]),a("br"),a("span",{staticClass:"line-number"},[s._v("211")]),a("br"),a("span",{staticClass:"line-number"},[s._v("212")]),a("br"),a("span",{staticClass:"line-number"},[s._v("213")]),a("br"),a("span",{staticClass:"line-number"},[s._v("214")]),a("br"),a("span",{staticClass:"line-number"},[s._v("215")]),a("br"),a("span",{staticClass:"line-number"},[s._v("216")]),a("br"),a("span",{staticClass:"line-number"},[s._v("217")]),a("br"),a("span",{staticClass:"line-number"},[s._v("218")]),a("br"),a("span",{staticClass:"line-number"},[s._v("219")]),a("br"),a("span",{staticClass:"line-number"},[s._v("220")]),a("br"),a("span",{staticClass:"line-number"},[s._v("221")]),a("br"),a("span",{staticClass:"line-number"},[s._v("222")]),a("br"),a("span",{staticClass:"line-number"},[s._v("223")]),a("br"),a("span",{staticClass:"line-number"},[s._v("224")]),a("br"),a("span",{staticClass:"line-number"},[s._v("225")]),a("br"),a("span",{staticClass:"line-number"},[s._v("226")]),a("br"),a("span",{staticClass:"line-number"},[s._v("227")]),a("br"),a("span",{staticClass:"line-number"},[s._v("228")]),a("br"),a("span",{staticClass:"line-number"},[s._v("229")]),a("br"),a("span",{staticClass:"line-number"},[s._v("230")]),a("br"),a("span",{staticClass:"line-number"},[s._v("231")]),a("br"),a("span",{staticClass:"line-number"},[s._v("232")]),a("br"),a("span",{staticClass:"line-number"},[s._v("233")]),a("br"),a("span",{staticClass:"line-number"},[s._v("234")]),a("br"),a("span",{staticClass:"line-number"},[s._v("235")]),a("br"),a("span",{staticClass:"line-number"},[s._v("236")]),a("br"),a("span",{staticClass:"line-number"},[s._v("237")]),a("br"),a("span",{staticClass:"line-number"},[s._v("238")]),a("br"),a("span",{staticClass:"line-number"},[s._v("239")]),a("br"),a("span",{staticClass:"line-number"},[s._v("240")]),a("br"),a("span",{staticClass:"line-number"},[s._v("241")]),a("br"),a("span",{staticClass:"line-number"},[s._v("242")]),a("br"),a("span",{staticClass:"line-number"},[s._v("243")]),a("br"),a("span",{staticClass:"line-number"},[s._v("244")]),a("br"),a("span",{staticClass:"line-number"},[s._v("245")]),a("br"),a("span",{staticClass:"line-number"},[s._v("246")]),a("br"),a("span",{staticClass:"line-number"},[s._v("247")]),a("br"),a("span",{staticClass:"line-number"},[s._v("248")]),a("br"),a("span",{staticClass:"line-number"},[s._v("249")]),a("br"),a("span",{staticClass:"line-number"},[s._v("250")]),a("br"),a("span",{staticClass:"line-number"},[s._v("251")]),a("br"),a("span",{staticClass:"line-number"},[s._v("252")]),a("br"),a("span",{staticClass:"line-number"},[s._v("253")]),a("br"),a("span",{staticClass:"line-number"},[s._v("254")]),a("br"),a("span",{staticClass:"line-number"},[s._v("255")]),a("br"),a("span",{staticClass:"line-number"},[s._v("256")]),a("br"),a("span",{staticClass:"line-number"},[s._v("257")]),a("br"),a("span",{staticClass:"line-number"},[s._v("258")]),a("br"),a("span",{staticClass:"line-number"},[s._v("259")]),a("br"),a("span",{staticClass:"line-number"},[s._v("260")]),a("br"),a("span",{staticClass:"line-number"},[s._v("261")]),a("br"),a("span",{staticClass:"line-number"},[s._v("262")]),a("br"),a("span",{staticClass:"line-number"},[s._v("263")]),a("br"),a("span",{staticClass:"line-number"},[s._v("264")]),a("br"),a("span",{staticClass:"line-number"},[s._v("265")]),a("br"),a("span",{staticClass:"line-number"},[s._v("266")]),a("br"),a("span",{staticClass:"line-number"},[s._v("267")]),a("br"),a("span",{staticClass:"line-number"},[s._v("268")]),a("br"),a("span",{staticClass:"line-number"},[s._v("269")]),a("br"),a("span",{staticClass:"line-number"},[s._v("270")]),a("br"),a("span",{staticClass:"line-number"},[s._v("271")]),a("br"),a("span",{staticClass:"line-number"},[s._v("272")]),a("br"),a("span",{staticClass:"line-number"},[s._v("273")]),a("br"),a("span",{staticClass:"line-number"},[s._v("274")]),a("br"),a("span",{staticClass:"line-number"},[s._v("275")]),a("br"),a("span",{staticClass:"line-number"},[s._v("276")]),a("br"),a("span",{staticClass:"line-number"},[s._v("277")]),a("br"),a("span",{staticClass:"line-number"},[s._v("278")]),a("br"),a("span",{staticClass:"line-number"},[s._v("279")]),a("br"),a("span",{staticClass:"line-number"},[s._v("280")]),a("br"),a("span",{staticClass:"line-number"},[s._v("281")]),a("br"),a("span",{staticClass:"line-number"},[s._v("282")]),a("br"),a("span",{staticClass:"line-number"},[s._v("283")]),a("br"),a("span",{staticClass:"line-number"},[s._v("284")]),a("br"),a("span",{staticClass:"line-number"},[s._v("285")]),a("br"),a("span",{staticClass:"line-number"},[s._v("286")]),a("br"),a("span",{staticClass:"line-number"},[s._v("287")]),a("br"),a("span",{staticClass:"line-number"},[s._v("288")]),a("br"),a("span",{staticClass:"line-number"},[s._v("289")]),a("br"),a("span",{staticClass:"line-number"},[s._v("290")]),a("br"),a("span",{staticClass:"line-number"},[s._v("291")]),a("br"),a("span",{staticClass:"line-number"},[s._v("292")]),a("br"),a("span",{staticClass:"line-number"},[s._v("293")]),a("br"),a("span",{staticClass:"line-number"},[s._v("294")]),a("br"),a("span",{staticClass:"line-number"},[s._v("295")]),a("br"),a("span",{staticClass:"line-number"},[s._v("296")]),a("br"),a("span",{staticClass:"line-number"},[s._v("297")]),a("br"),a("span",{staticClass:"line-number"},[s._v("298")]),a("br"),a("span",{staticClass:"line-number"},[s._v("299")]),a("br"),a("span",{staticClass:"line-number"},[s._v("300")]),a("br"),a("span",{staticClass:"line-number"},[s._v("301")]),a("br"),a("span",{staticClass:"line-number"},[s._v("302")]),a("br"),a("span",{staticClass:"line-number"},[s._v("303")]),a("br"),a("span",{staticClass:"line-number"},[s._v("304")]),a("br"),a("span",{staticClass:"line-number"},[s._v("305")]),a("br"),a("span",{staticClass:"line-number"},[s._v("306")]),a("br"),a("span",{staticClass:"line-number"},[s._v("307")]),a("br"),a("span",{staticClass:"line-number"},[s._v("308")]),a("br"),a("span",{staticClass:"line-number"},[s._v("309")]),a("br"),a("span",{staticClass:"line-number"},[s._v("310")]),a("br"),a("span",{staticClass:"line-number"},[s._v("311")]),a("br"),a("span",{staticClass:"line-number"},[s._v("312")]),a("br"),a("span",{staticClass:"line-number"},[s._v("313")]),a("br"),a("span",{staticClass:"line-number"},[s._v("314")]),a("br"),a("span",{staticClass:"line-number"},[s._v("315")]),a("br"),a("span",{staticClass:"line-number"},[s._v("316")]),a("br"),a("span",{staticClass:"line-number"},[s._v("317")]),a("br"),a("span",{staticClass:"line-number"},[s._v("318")]),a("br"),a("span",{staticClass:"line-number"},[s._v("319")]),a("br"),a("span",{staticClass:"line-number"},[s._v("320")]),a("br"),a("span",{staticClass:"line-number"},[s._v("321")]),a("br"),a("span",{staticClass:"line-number"},[s._v("322")]),a("br"),a("span",{staticClass:"line-number"},[s._v("323")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);